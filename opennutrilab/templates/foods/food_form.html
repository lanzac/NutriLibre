{% load crispy_forms_tags %}
{% load form_tags static %}
{% load render_bundle from webpack_loader %}
<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8" />
        <meta http-equiv="x-ua-compatible" content="ie=edge" />
        <title>
            {% block title %}
                OpenNutriLab
            {% endblock title %}
        </title>
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <meta name="description" content="Behold OpenNutriLab!" />
        <meta name="author" content="AndrÃ© Lanrezac" />
        <meta name="keywords" content="nutrition, open source">
        <link rel="icon" href="{% static 'images/favicons/favicon.ico' %}" />
        {% block css %}
            {% render_bundle 'project' 'css' %}
        {% endblock css %}
        {% block javascript %}
            {% render_bundle 'vendors' 'js' attrs='defer' %}
            {% render_bundle 'project' 'js' attrs='defer' %}
            {% render_bundle 'fetch_barcode' 'js' attrs='defer' %}
        {% endblock javascript %}
    </head>
    <body>
        <div class="container-md my-5">
            <div class="row justify-content-center">
                <div class="col-12 col-md-10 col-lg-8">
                    <div class="card">
                        <div class="card-header">
                            {% if food %}
                                Edit food
                            {% else %}
                                Create food
                            {% endif %}
                        </div>
                        <div class="card-body">
                            <ul class="list-group list-group-flush">
                                {% csrf_token %}
                                {% if form.errors %}
                                    <div class="alert alert-danger">
                                        <strong>Formulaire invalide :</strong>
                                        {{ form.errors }}
                                    </div>
                                {% endif %}
                                {% crispy form %}
                            </ul>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <script src="{% static 'js/bootstrap.bundle.min.js' %}"></script>
        <script src="{% static 'js/fetch_barcode.js' %}"></script>
    </body>
</html>
